From 2ce0aacb0822b61f02e6192dd21c1a11b425822c Mon Sep 17 00:00:00 2001
From: Masami Ichikawa <masami.ichikawa@miraclelinux.com>
Date: Thu, 30 May 2019 14:07:38 +0900
Subject: [PATCH] always enable site-packages directory

dist-packages is debian specific[1] but others are not.
So, allow site-packages directroy as default path.

1:
https://stackoverflow.com/questions/9387928/whats-the-difference-between-dist-packages-and-site-packages
Signed-off-by: Masami Ichikawa <masami.ichikawa@miraclelinux.com>
---
 Lib/site.py | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

diff --git a/Lib/site.py b/Lib/site.py
index 2f7f802..974f7ad 100644
--- a/Lib/site.py
+++ b/Lib/site.py
@@ -340,10 +340,9 @@ def getsitepackages(prefixes=None):
         seen.add(prefix)
 
         if os.sep == '/':
-            if 'VIRTUAL_ENV' in os.environ or sys.base_prefix != sys.prefix:
-                sitepackages.append(os.path.join(prefix, sys.lib,
-                                                 "python" + sys.version[:3],
-                                                 "site-packages"))
+            sitepackages.append(os.path.join(prefix, sys.lib,
+                                             "python" + sys.version[:3],
+                                             "site-packages"))
             sitepackages.append(os.path.join(prefix, "local/lib",
                                              "python" + sys.version[:3],
                                              "dist-packages"))
-- 
2.20.1

